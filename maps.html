---
layout: default
title: Galería de Mapas
---

<section>
    <div style="text-align: center; margin-bottom: 50px;">
        <small style="color: var(--neon-pink); letter-spacing: 2px;">>> VISUALIZACIÓN DE DATOS</small>
        <h1>CARTOGRAFÍA & ANÁLISIS</h1>
        <p style="color: #888;">Click en las imágenes para acceder al visor de alta resolución y ficha técnica.</p>
    </div>

    <div class="grid-3">
        
        <div class="card map-card" onclick="openModal(this)">
            <img src="/assets/images/conmapas.png" 
                 alt="ConMapas Community" 
                 class="gallery-img" 
                 onerror="this.src='https://via.placeholder.com/600x400/000/0ff?text=CONMAPAS+IMG'">
            
            <div style="padding-top: 15px;">
                <h3>CURVAS DE NIVEL CERRO SAN CRISTÓBAL</h3>
                <span class="role-badge">COMUNIDAD</span>
                <span class="role-badge">MAPTIVISM</span>
            </div>

            <div class="hidden-data" style="display:none;">
                <p><strong>Descripción:</strong> Mapa de la serie de cartografías generadas para CONMAPAS, en donde mediante una abstracción utilizando curvas de nivel se planteaba el desafío de adivinar el cerro por parte de la comunidad.</p>
                <p><strong>Metodología:</strong> Se utilizaron DEM de Alos Palsar para la creación de curvas de nivel</p>
            </div>
        </div>

        <div class="card map-card" onclick="openModal(this)">
            <img src="/assets/images/impacto_dictadura.png" 
                 alt="Mapa Dictadura RM" 
                 class="gallery-img"
                 onerror="this.src='https://via.placeholder.com/600x400/300/0f0?text=MAPA+DICTADURA'">
            
            <div style="padding-top: 15px;">
                <h3>Expresión Territorial de la Dictadura en la RM</h3>
                <span class="role-badge">PYTHON</span>
                <span class="role-badge">QGIS</span>
            </div>

            <div class="hidden-data" style="display:none;">
                <p><strong>Descripción:</strong> Mapeo de la expresión territorial de la Dictadura en la Región Metropolitana.</p>
                <p><strong>Metodología:</strong> Se vectorizaron los desplazamientos forzados de habitantes de Santiago hacia sectores populares en las periferias de la ciudad. Además, se utilizaron como fuente los vectores creados por el proyecto Cartografías de la Memoria.</p>
            </div>
        </div>

    </div>
</section>

<div id="imageModal" class="modal">
    <span class="close" onclick="closeModal()">&times;</span>
    <div class="modal-content">
        <img id="modalImg" src="">
        <div id="caption"></div>
    </div>
</div>

<style>
    /* =========================================
       ESTILOS DE LA GALERÍA (CARDS)
       ========================================= */
    .map-card { cursor: pointer; transition: transform 0.3s, box-shadow 0.3s; }
    .map-card:hover { 
        transform: translateY(-5px); 
        box-shadow: 0 0 25px rgba(0, 243, 255, 0.4); /* Resplandor cian al pasar mouse */
        border-color: var(--neon-cyan); 
    }
    .gallery-img { width: 100%; height: 250px; object-fit: cover; border-bottom: 1px solid var(--neon-cyan); }
    
    /* =========================================
       NUEVO DISEÑO DEL VISOR MODAL (POPUP)
       ========================================= */
    /* El fondo oscuro que cubre toda la pantalla */
    .modal { 
        display: none; 
        position: fixed; 
        z-index: 99999; /* Muy alto para tapar todo, incluso el header */
        left: 0; top: 0; 
        width: 100%; height: 100%; 
        background-color: rgba(0,0,0,0.97); /* Casi negro total */
        backdrop-filter: blur(5px); /* Efecto borroso futurista de fondo */
    }

    /* EL CONTENEDOR PRINCIPAL (LA CAJA QUE CONTIENE IMAGEN + TEXTO) */
    .modal-content {
        position: absolute;
        top: 50%; left: 50%;
        transform: translate(-50%, -50%); /* Centrado perfecto */
        
        width: 90%; max-width: 1400px; /* Ancho máximo para pantallas gigantes */
        height: 85vh; /* Ocupa el 85% de la altura de la pantalla */
        
        display: flex; /* Activa el modo flexible */
        flex-direction: row; /* Desktop: Imagen al lado del texto */
        
        background: #050505;
        border: 2px solid var(--neon-cyan);
        box-shadow: 0 0 50px rgba(0, 243, 255, 0.2);
        overflow: hidden; /* Para que nada se salga de la caja redondeada */
    }

    /* LA IMAGEN DENTRO DEL MODAL (IZQUIERDA EN DESKTOP) */
    #modalImg {
        flex: 2; /* La imagen ocupa 2/3 del espacio */
        width: 100%; 
        height: 100%;
        object-fit: contain; /* Se ajusta sin estirarse, mostrando toda la imagen */
        background: #000; /* Fondo negro por si la imagen tiene otro ratio */
        border-right: 2px solid var(--neon-cyan); /* LÍNEA DIVISORIA */
        box-shadow: none; /* Reseteamos sombras viejas */
    }

    /* EL TEXTO/DESCRIPCIÓN (DERECHA EN DESKTOP) */
    #caption {
        flex: 1; /* El texto ocupa 1/3 del espacio */
        height: 100%; /* Ocupa toda la altura disponible */
        padding: 40px;
        
        /* LA CLAVE: Si el texto es muy largo, aparece barra de scroll SOLO AQUÍ */
        overflow-y: auto; 
        
        color: #ccc;
        font-family: 'Share Tech Mono', monospace;
        text-align: left;
        background: #111; /* Un poco más claro que el fondo negro */
        border: none; /* Quitamos bordes viejos */
        margin: 0; /* Quitamos mrgenes viejos */
        box-sizing: border-box;
    }

    /* Estilos para los textos dentro del caption */
    #caption h2 { margin-top: 0; font-size: 2rem; border-bottom: 1px solid var(--neon-pink); padding-bottom: 15px; margin-bottom: 30px;}
    #caption p { font-size: 1.1rem; line-height: 1.8; margin-bottom: 20px; }
    #caption strong { color: var(--neon-green); }
    #caption a { color: var(--neon-cyan); text-decoration: none; border-bottom: 1px dotted var(--neon-cyan); transition: 0.3s; }
    #caption a:hover { background: var(--neon-cyan); color: black; }

    /* BOTÓN DE CERRAR (X) */
    .close {
        position: absolute;
        top: 10px; right: 20px;
        color: var(--neon-pink);
        font-size: 50px; font-weight: bold;
        cursor: pointer; z-index: 100; transition: 0.3s;
        text-shadow: 0 0 10px var(--neon-pink);
        line-height: 0.8;
    }
    .close:hover { color: white; transform: rotate(90deg); }

    /* =========================================
       VERSIÓN MÓVIL (RESPONSIVE)
       ========================================= */
    /* Cuando la pantalla mide menos de 900px de ancho */
    @media (max-width: 900px) {
        .modal-content {
            flex-direction: column; /* Cambiamos a apilado vertical */
            width: 95%;
            height: 90vh; /* Un poco más alto en celular */
        }

        #modalImg {
            flex: none; /* Ya no se estira automáticamente */
            height: 50%; /* La imagen ocupa EXACTAMENTE la mitad de arriba */
            width: 100%;
            border-right: none;
            border-bottom: 2px solid var(--neon-cyan); /* La línea divisoria pasa abajo */
        }

        #caption {
            flex: 1; /* El texto ocupa el espacio restante (la mitad de abajo) */
            height: 50%;
            padding: 25px;
            /* Sigue teniendo scroll si es necesario */
        }
        #caption h2 { font-size: 1.5rem; }
        .close { top: 5px; right: 15px; font-size: 40px; }
    }

    /* =========================================
       SCROLLBAR CYBERPUNK PARA EL TEXTO
       ========================================= */
    #caption::-webkit-scrollbar { width: 8px; background: #000; }
    #caption::-webkit-scrollbar-thumb { background: var(--neon-cyan); border-radius: 0; }
    #caption::-webkit-scrollbar-thumb:hover { background: var(--neon-pink); }
</style>

<script>
    function openModal(element) {
        var modal = document.getElementById("imageModal");
        var img = element.querySelector('.gallery-img');
        var hiddenText = element.querySelector('.hidden-data').innerHTML;
        var title = element.querySelector('h3').innerText;

        document.getElementById("modalImg").src = img.src;
        // Combinamos el título con la descripción oculta
        document.getElementById("caption").innerHTML = "<h2 style='color:var(--neon-cyan)'>" + title + "</h2>" + hiddenText;
        modal.style.display = "block";
    }
    function closeModal() { document.getElementById("imageModal").style.display = "none"; }
</script>